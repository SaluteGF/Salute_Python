<div align='center' >

# 程序运行原理

</div>

## 1. 计算机中的三大件

计算机中包含有较多的硬件，但是一个程序要运行，有 三个核心的硬件，分别是：

1. `CPU`

   - 中央处理器，是一块超大规模的集成电路

   - 负责 处理数据／计算（负责执行程序）

2. `内存`

   - 临时存储数据（断电之后，数据会消失）

   - 速度快
   - 空间小（单位价格高）
   - 内存条通常只有 4G / 8G / 16G / 32G

3. `硬盘`

   - 永久存储数据

   - 速度慢
   - 空间大（单位价格低）
   - 程序安装在硬盘中


|                             CPU                              |                             内存                             |                             硬盘                             |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![clip_image002](https://gitee.com/zgf1366/pic_store/raw/master/img/20210120145926.jpg) | ![clip_image0014](https://gitee.com/zgf1366/pic_store/raw/master/img/20210120145913.png) | ![clip_image006](https://gitee.com/zgf1366/pic_store/raw/master/img/20210120145919.jpg) |

## 2. 程序执行的原理

![img](https://gitee.com/zgf1366/pic_store/raw/master/img/20210201093335.png)

1. 程序运行之前，程序是保存在硬盘中的
2. 当要运行一个程序时,操作系统会首先让CPU把程序复制到内存中
3. CPU执行内存中的程序代码


`程序要执行，首先要被加载到内存`

- Python程序执行原理

1. 操作系统会首先让 CPU 把 Python 解释器 的程序复制到 内存 中
2. Python 解释器 根据语法规则，从上向下 让 CPU 翻译 Python 程序中的代码
3. CPU 负责执行翻译完成的代码

- Python 的解释器有多大？

  执行以下终端命令可以查看 Python 解释器的大小

```bash
# 1. 确认解释器所在位置
$ which python
# 2. 查看 python 文件大小(只是一个软链接)
$ ls -lh /usr/bin/python
# 3. 查看具体文件大小
$ ls -lh /usr/bin/python2.7
```

提示：建立 软链接 的目的，是为了方便使用者不用记住使用的解释器是 哪一个具体版本

## 3. 程序的作用

`程序就是用来处理数据的，而变量就是用来存储数据的`

- 新闻软件提供的新闻内容、评论……是数据
- 电商软件提供的商品信息、配送信息…… 是数据
- 运动类软件提供的运动数据…… 是数据
- 地图类软件提供的地图信息、定位信息、车辆信息…… 是数据
- 即时通讯软件提供的聊天信息、好友信息……是数据
- ……

**思考 QQ 程序的启动过程**

1. QQ 在运行之前，是保存在硬盘中的
2. 运行之后，QQ 程序就会被加载到内存中了

![clip_image012](https://gitee.com/zgf1366/pic_store/raw/master/img/20210120150115.png)

**思考QQ程序的登录过程**

1. 读取用户输入的 QQ 号码
2. 读取用户输入的 QQ 密码
3. 将 QQ 号码 和 QQ 密码 发送给腾讯的服务器，等待服务器确认用户信息

思考 1：在 QQ 这个程序将 QQ 号码 和 QQ 密码 发送给服务器之前，是否需要先存储一下 QQ 号码 和 密码?

答：肯定需要！—— 否则 QQ 这个程序就不知道把什么内容发送给服务器了！

思考 2：QQ 这个程序把 QQ号码和 QQ 密码 保存在哪里？

答：保存在 内存 中，因为 QQ 程序自己就在内存中

思考 3：QQ 这个程序是怎么保存用户的 QQ号码 和 QQ 密码 的？

答：

1. 在内存中为 QQ号码 和 QQ密码 各自分配一块空间

2. - 在 QQ 程序结束之前，这两块空间是由 QQ 程序负责管理的，其他任何程序都不允许使用
   - 在 QQ 自己使用完成之前，这两块空间始终都只负责保存 QQ号码 和 QQ密码

3. 使用一个 别名 标记 QQ号码 和 QQ密码 在内存中的位置

![clip_image014](https://gitee.com/zgf1366/pic_store/raw/master/img/20210120150140.jpg)

在程序内部，为 QQ号码和 QQ密码 在内存中分配的空间就叫做 变量

## 4. 进制转换

> [程序练习](https://github.com/Nicolas-gaofeng/Salute_Python/blob/main/code/summary/base_conversion.py)

十进制 二进制0b、八进制0o、十六进制0x

|   ↓    |     2进制     |     8进制     |     10进制     |     16进制     |
| :----: | :-----------: | :-----------: | :------------: | :------------: |
| 2进制  |       -       | bin(int(n,8)) | bin(int(n,10)) | bin(int(n,16)) |
| 8进制  | oct(int(n,2)) |       -       | oct(int(n,10)) | oct(int(n,16)) |
| 10进制 |   int(n,2)    |   int(n,8)    |       -        |   int(n,16)    |
| 16进制 | hex(int(n,2)) | hex(int(n,8)) | hex(int(n,10)) |       -        |

`原理：python内置函数进行进制转换的原理是将读入的一个字符串(python默认读入的都是字符串形式)转为10进制，然后再用相关函数进行其他进制转换`

### 4.1 2进制转换成其他进制

**2进制转换成8进制：oct(int(n,2))**

```python
n=input()
print(oct(int(n,2)))
```

输入: 1010
输出: 0o12

**2进制转换成10进制：int(n,2)**

```python
n=input()
print(int(n,2))
```

输入：1010
输出：10

**2进制转换成16进制：hex(int(n,2))**

```python
n=input()
print(hex(int(n,2)))
```

输入：1010
输出：0xa

### 4.2 8进制转换成其他进制

**8进制转换成2进制：bin(int(n,8))**

```python
n=input()
print(bin(int(n,8)))
```

输入：1010
输出：0b1000001000

**8进制转换成10进制：int(n,8)**

```python
n=input()
print(int(n,8))
```

输入：1010
输出：520

**8进制转换成16进制：hex(int(n,16))**

```python
n=input()
print(hex(int(n,8)))
```

输入：1010
输出：0x208

### 4.3 10进制转换成其他进制

说明：10进制转换可以直接采取上述表格中的形式，读入字符串，先转换为10进制的数，再用函数进行操作转换成其他进制。
但同时可以这样操作，读入的时候直接进行强制类型转换操作，转为int类型(python中的int类型的数据就是10进制)

**10进制转换成2进制：bin(n)**

```python
n=int(input())
print(bin(n))
```

输入：10
输出：0b1010

**10进制转换成8进制：oct(n)**

```python
n=int(input())
print(oct(n))
```

输入：10
输出：0o12

**10进制转换成16进制：hex(n)**

```python
n=int(input())
print(hex(n))
```

输入：10
输出：0xa

### 4.4 16进制转换成其他进制

**16进制转换成2进制：bin(int(n,16))**

```python
n=input()
print(bin(int(n,16)))
```

输入：a
输出：0b1010

**16进制转换成8进制：oct(int(n,16))**

```python
n=input()
print(oct(int(n,16)))
```

输入：a
输出：0o12

**16进制转换成10进制：int(n,16)**

```python
n=input()
print((int(n,16)))
```

输入：a
输出：10

**注意**：我们可以发现，除了转换成10进制的数，其他的进制转换结果都带有前缀，2进制是0b，8进制是0o，16进制是0x。但是我们在绝大部分使用进制转换后的数据时，是不需要它的前缀的。

### 4.5 使用字符串切片操作去掉前缀

**原理**：就是将进制转换后得到的结果对其进行字符串切片操作，将得到的结果从第三个字符开始取结果即可，这样我们可以得到不带前缀的结果

**举例：**

```python
//10进制转换成2进制
n=int(input())
print(bin(n)[2:])//切片操作
```

输入：10
输出：1010

```python
//10进制转换成8进制
n=int(input())
print(oct(n)[2:])//切片操作
```

输入：10
输出：12

```python
//10进制转换成16进制
n=int(input())
print(hex(n)[2:])//切片操作
```

输入：10
输出：a

其他的情况类比即可。

### 4.6 使用format函数进行格式化数字操作去掉前缀

**说明**：前面说过，不同类型的进制转换的原理时先转换为十进制，然后再用相关的函数进行进制转换操作，而format函数里面有格式化数字的方法可以直接实现进制转换的功能，下面一一介绍：

**其他类型转换为2进制：**
**操作**：在format函数的槽中添加一个b 即可实现其他类型对2进制的转换，下面举例说明

```python
n=input()
print("{:b}".format(int(n,8)))
//先将8进制的数转换为10进制，
//然后在format的槽中添加一个b，等价于实现了bin函数的功能
//但是此结果是不带有0b前缀的
```

输入：1010
输出：1000001000

**其他类型转换为8进制：**

**操作**：在format函数的槽中添加一个o 即可实现其他类型对8进制的转换，下面举例说明

```python
n=input()
print("{:o}".format(int(n,16)))
//先将一个16进制数转换为10进制
//然后利用format函数格式化数字方法转换即可
```

输入：a
输出：12

**其他类型转换为16进制：**
**操作**：在format函数的槽中添加一个x 即可实现其他类型对2进制的转换，下面举例说明

```python
n=input()
print("{:x}".format(int(n,8)))
//先将一个8进制的数转换为16进制
//然后原理同上
```

输入：1010
输出：208

注意：由于转换成10进制本来就是不带前缀的，无需用format格式化数字方法控制

## 5. 单位转换

8 bit == 1bytes

1024bytes==kb

1024kb==1MB

1024MB==1GB

1024GB==1TB

1024TB==1PB